<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>Happy Birthday!</title>
<style>
  * {
    margin: 0; padding: 0; box-sizing: border-box;
  }
  body, html {
    height: 100%;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #0b1a38;
    color: #fff;
    overflow-x: hidden;
  }
  .container {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 20px;
    position: relative;
    overflow: hidden;
  }
  h1 {
    font-size: 3.5rem;
    color: #ff6b81;
    margin-bottom: 10px;
    text-shadow: 0 0 8px #ff6b81;
  }
  p {
    font-size: 1.5rem;
    margin-bottom: 20px;
    color: #a0c4ff;
  }
  button {
    background-color: #ff6b81;
    border: none;
    padding: 15px 30px;
    font-size: 1.2rem;
    font-weight: bold;
    color: white;
    border-radius: 30px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    box-shadow: 0 5px 15px rgba(255, 107, 129, 0.4);
    margin-bottom: 30px;
  }
  button:hover {
    background-color: #ff4c68;
  }
  #wish {
    font-size: 1.2rem; /* smaller font */
    color: #ffd6e8;
    margin-bottom: 40px;
    opacity: 0;
    transition: opacity 1.5s ease;
    max-width: 320px;
  }

  /* Floating hearts animation */
  .heart {
    position: fixed;
    width: 20px;
    height: 20px;
    background-color: #ff6b81;
    transform: rotate(-45deg);
    left: 50%;
    bottom: 0;
    animation: floatUp linear forwards;
    opacity: 0.8;
    z-index: 10;
  }
  .heart::before,
  .heart::after {
    content: "";
    position: absolute;
    width: 20px;
    height: 20px;
    background-color: #ff6b81;
    border-radius: 50%;
  }
  .heart::before {
    top: -10px;
    left: 0;
  }
  .heart::after {
    top: 0;
    left: 10px;
  }
  @keyframes floatUp {
    0% {
      transform: translateX(0) translateY(0) rotate(-45deg);
      opacity: 0.8;
    }
    100% {
      transform: translateX(var(--x)) translateY(-120vh) rotate(-45deg);
      opacity: 0;
    }
  }

  /* Slideshow styles */
  .slideshow {
    width: 320px; /* fixed width for phone */
    max-width: 90vw;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 0 15px rgba(255, 107, 129, 0.7);
    position: relative;
    user-select: none;
    margin-bottom: 10px;
  }
  .slides {
    display: flex;
    transition: transform 0.5s ease-in-out;
  }
  .slides img {
    width: 320px; /* exact width to match container */
    max-width: 100%;
    border-radius: 15px;
    pointer-events: none; /* disables click */
    user-select: none;
  }
  /* Wishes text below image */
  #imageWish {
    font-size: 1rem; /* smaller text */
    color: #ffb3c6;
    min-height: 40px;
    margin-bottom: 30px;
    padding: 0 10px;
    max-width: 320px;
    user-select: none;
  }

  /* Countdown Timer */
  #countdown {
    font-size: 2rem;
    font-weight: bold;
    color: #ff6b81;
    margin-bottom: 40px;
    text-shadow: 0 0 8px #ff6b81;
  }

  /* Confetti container */
  #confetti-canvas {
    position: fixed;
    pointer-events: none;
    top: 0; left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 30;
  }
</style>
</head>
<body>

<div class="container" role="main">
  <h1>Happy Birthday!</h1>
  <p>Wishing you a day filled with love, joy, and laughter.</p>

  <div id="countdown" aria-live="polite" aria-atomic="true" role="timer">
    Countdown: --:--:--:--
  </div>

  <button id="showWishBtn" aria-controls="wish" aria-expanded="false">Show Your Surprise Wish ðŸŽ‰</button>
  <div id="wish" aria-live="polite" aria-atomic="true">May all your dreams come true! ðŸŽ‚ðŸŽˆ</div>

  <!-- Slideshow -->
  <div class="slideshow" aria-label="Birthday photos slideshow">
    <div class="slides" id="slides">
      <img src="https://via.placeholder.com/320x200?text=Birthday+1" alt="Birthday photo 1" />
      <img src="https://via.placeholder.com/320x200?text=Birthday+2" alt="Birthday photo 2" />
      <img src="https://via.placeholder.com/320x200?text=Birthday+3" alt="Birthday photo 3" />
      <img src="https://via.placeholder.com/320x200?text=Birthday+4" alt="Birthday photo 4" />
      <img src="https://via.placeholder.com/320x200?text=Birthday+5" alt="Birthday photo 5" />
      <img src="https://via.placeholder.com/320x200?text=Birthday+6" alt="Birthday photo 6" />
      <img src="https://via.placeholder.com/320x200?text=Birthday+7" alt="Birthday photo 7" />
      <img src="https://via.placeholder.com/320x200?text=Birthday+8" alt="Birthday photo 8" />
      <img src="https://via.placeholder.com/320x200?text=Birthday+9" alt="Birthday photo 9" />
      <img src="https://via.placeholder.com/320x200?text=Birthday+10" alt="Birthday photo 10" />
    </div>
  </div>
  <div id="imageWish" aria-live="polite" aria-atomic="true">Your best wishes will appear here</div>
</div>

<canvas id="confetti-canvas"></canvas>

<script>
  // Surprise wish button
  const wish = document.getElementById('wish');
  const btn = document.getElementById('showWishBtn');
  btn.addEventListener('click', () => {
    wish.style.opacity = '1';
    btn.style.display = 'none';
    btn.setAttribute('aria-expanded', 'true');
  });

  // Floating hearts animation
  function createHeart() {
    const heart = document.createElement('div');
    heart.classList.add('heart');
    heart.style.left = Math.random() * 100 + 'vw';
    heart.style.setProperty('--x', (Math.random() * 100 - 50) + 'px');
    heart.style.animationDuration = (Math.random() * 4 + 4) + 's';
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 8000);
  }
  setInterval(createHeart, 400);

  // Slideshow without buttons, swipe/touch only
  const slides = document.getElementById('slides');
  const images = slides.querySelectorAll('img');
  const imageWish = document.getElementById('imageWish');

  // Wishes for each image
  const wishes = [
    "Wishing you endless happiness! ðŸŽ‰",
    "May your smile shine brighter today! ðŸ˜Š",
    "Cheers to many more wonderful years! ðŸ¥‚",
    "Hope your day is as amazing as you! ðŸŒŸ",
    "Sending you love and warm hugs! ðŸ¤—",
    "May all your dreams take flight! âœ¨",
    "Keep shining, birthday star! â­",
    "To health, wealth, and happiness! ðŸ’°",
    "Celebrate big, laugh loud! ðŸ˜‚",
    "You deserve all the best today! ðŸŽ"
  ];

  let currentIndex = 0;
  const slideWidth = 320; // must match CSS image width

  function updateSlidePosition() {
    slides.style.transition = 'transform 0.5s ease-in-out';
    slides.style.transform = `translateX(-${currentIndex * slideWidth}px)`;
    imageWish.textContent = wishes[currentIndex];
  }
  updateSlidePosition();

  // Swipe support for Redmi Note 6 Pro
  let startX = 0;
  let isDragging = false;

  slides.addEventListener('touchstart', e => {
    startX = e.touches[0].clientX;
    isDragging = true;
    slides.style.transition = 'none';
  });
  slides.addEventListener('touchmove', e => {
    if (!isDragging) return;
    const currentX = e.touches[0].clientX;
    const diff = currentX - startX;
    slides.style.transform = `translateX(${-currentIndex * slideWidth + diff}px)`;
  });
  slides.addEventListener('touchend', e => {
    isDragging = false;
    slides.style.transition = 'transform 0.5s ease-in-out';
    const endX = e.changedTouches[0].clientX;
    const diff = endX - startX;

    if (diff > 50) {
      // Swipe right â€” show previous slide, wrap to last if at start
      currentIndex = (currentIndex === 0) ? images.length - 1 : currentIndex - 1;
    } else if (diff < -50) {
      // Swipe left â€” show next slide, wrap to first if at end
      currentIndex = (currentIndex === images.length - 1) ? 0 : currentIndex + 1;
    }
    updateSlidePosition();
  });

  // Countdown Timer
  const countdown = document.getElementById('countdown');

  // Set your birthday here (YYYY, MM-1, DD, HH, MM, SS)
  // Note: Months are zero-based: January = 0
  const birthday = new Date(2025, 11, 25, 0, 0, 0); // Example: Dec 25, 2025 midnight

  function updateCountdown() {
    const now = new Date();
    let diff = birthday - now;

    if (diff < 0) {
      countdown.textContent = "ðŸŽ‰ Happy Birthday! ðŸŽ‰";
      return;
    }

    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    diff -= days * (1000 * 60 * 60 * 24);
    const hours = Math.floor(diff / (1000 * 60 * 60));
    diff -= hours * (1000 * 60 * 60);
    const minutes = Math.floor(diff / (1000 * 60));
    diff -= minutes * (1000 * 60);
    const seconds = Math.floor(diff / 1000);

    countdown.textContent = `Countdown: ${days}d ${hours}h ${minutes}m ${seconds}s`;
  }
  updateCountdown();
  setInterval(updateCountdown, 1000);

  // Confetti animation
  const canvas = document.getElementById('confetti-canvas');
  const ctx = canvas.getContext('2d');
  let W, H;
  function resizeCanvas() {
    W = canvas.width = window.innerWidth;
    H = canvas.height = window.innerHeight;
  }
  resizeCanvas();
  window.addEventListener('resize', resizeCanvas);

  const confettiCount = 150;
  const confettiPieces = [];

  class Confetti {
    constructor() {
      this.x = Math.random() * W;
      this.y = Math.random() * H - H;
      this.r = (Math.random() * 6) + 4;
      this.d = (Math.random() * confettiCount) + 10;
      this.color = `hsl(${Math.random() * 360}, 100%, 70%)`;
      this.tilt = (Math.random() * 10) - 10;
      this.tiltAngleIncrement = (Math.random() * 0.07) + 0.05;
      this.tiltAngle = 0;
    }
    update() {
      this.tiltAngle += this.tiltAngleIncrement;
      this.y += (Math.cos(this.d) + 3 + this.r / 2) / 2;
      this.x += Math.sin(this.d);
      this.tilt = Math.sin(this.tiltAngle) * 15;

      if (this.y > H) {
        this.x = Math.random() * W;
        this.y = -10;
        this.tilt = (Math.random() * 10) - 10;
      }
    }
    draw() {
      ctx.beginPath();
      ctx.lineWidth = this.r / 2;
      ctx.strokeStyle = this.color;
      ctx.moveTo(this.x + this.tilt + this.r / 4, this.y);
      ctx.lineTo(this.x + this.tilt, this.y + this.tilt + this.r / 4);
      ctx.stroke();
    }
  }
  for (let i = 0; i < confettiCount; i++) {
    confettiPieces.push(new Confetti());
  }

  function animateConfetti() {
    ctx.clearRect(0, 0, W, H);
    confettiPieces.forEach(c => {
      c.update();
      c.draw();
    });
    requestAnimationFrame(animateConfetti);
  }
  animateConfetti();
</script>
</body>
</html>
